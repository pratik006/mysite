<html>
<head>
  <link rel="stylesheet" type="text/css" href="css/login.css">
  <link rel="stylesheet" type="text/css" href="css/app.css">

  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="../materialize/css/materialize.min.css"  media="screen,projection"/>
  <!-- <link type="text/css" rel="stylesheet" href="../materialize/css/material-icons.css"  media="screen,projection"/> -->
</head>
<body>
    <div id="loginDiv">
      <hgroup>
        <h1>Login Form</h1>
        <h3></h3>
      </hgroup>
      <form id="loginForm">
        <div class="group">
          <input id="j_username" name="username" type="email"><span class="highlight"></span><span class="bar"></span>
          <label>Username</label>
        </div>
        <div class="group">
          <input id="j_password" name="password" type="password"><span class="highlight"></span><span class="bar"></span>
          <label>Password</label>
        </div>
        <button id="login" type="button" class="button buttonBlue">Login
          <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
        </button>
      </form>
      <div>

      <script src="../bootstrap/js/jquery.js"></script>
      <script type="text/javascript" src="js/login.js"></script>
      <script type="text/javascript" src="app.js"></script>
      <script type="text/javascript">
        $(document).ready(function() {
          $("#login").click(function() {
            console.log('clicked');
            $.ajax({
              type: "POST",
              url: '/rest/blog/login',
              data: $('#loginForm').serialize(),
              success: function(result) {
                console.log(result);
                try {
                  user = JSON.parse(result);
                  loggedUser = user;
                  window.location.href = "./index.html";
                }catch(error) {
                  console.log('error occurred while logging in');
                }
              }
            });
          });
        });
      </script>
</body>


</html>
